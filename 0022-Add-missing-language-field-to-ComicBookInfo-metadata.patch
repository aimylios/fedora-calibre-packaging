From e388d73d133fb5584585a35f1ab0c27db9d91bac Mon Sep 17 00:00:00 2001
From: Philippe Babin <philippe.babin@gmail.com>
Date: Sat, 27 Jul 2019 17:45:33 -0400
Subject: [PATCH 22/71] Add missing 'language' field to ComicBookInfo metadata
 for .CBR files.

---
 src/calibre/ebooks/metadata/archive.py | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/calibre/ebooks/metadata/archive.py b/src/calibre/ebooks/metadata/archive.py
index 434edf9728..12f12626cd 100644
--- a/src/calibre/ebooks/metadata/archive.py
+++ b/src/calibre/ebooks/metadata/archive.py
@@ -114,6 +114,8 @@ def get_comic_book_info(d, mi, series_index='volume'):
                 mi.series_index = float(si)
             except Exception:
                 mi.series_index = 1
+    if d.get('language', '') != '':
+        mi.languages = [d['language'].strip()]
     if d.get('rating', -1) > -1:
         mi.rating = d['rating']
     for x in ('title', 'publisher'):
