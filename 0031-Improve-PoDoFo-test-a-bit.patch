From 9956809ffe46bad2238712eecee4ed64fea9e63a Mon Sep 17 00:00:00 2001
From: Kovid Goyal <kovid@kovidgoyal.net>
Date: Wed, 31 Jul 2019 16:06:01 +0530
Subject: [PATCH 31/71] Improve PoDoFo test a bit

---
 src/calibre/utils/podofo/__init__.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/calibre/utils/podofo/__init__.py b/src/calibre/utils/podofo/__init__.py
index 9c032478ee..9cefa3f364 100644
--- a/src/calibre/utils/podofo/__init__.py
+++ b/src/calibre/utils/podofo/__init__.py
@@ -185,7 +185,8 @@ def test_podofo():
         p = podofo.PDFDoc()
         p.open(f.name)
         if (p.title, p.author) != (mi.title, mi.authors[0]):
-            raise ValueError('podofo failed to set title and author in Info dict')
+            raise ValueError('podofo failed to set title and author in Info dict %s != %s' % (
+                (p.title, p.author), (mi.title, mi.authors[0])))
         if not p.get_xmp_metadata():
             raise ValueError('podofo failed to write XMP packet')
         del p
